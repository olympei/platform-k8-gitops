apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Production environment overlay for External DNS extended RBAC
# Deploy with: kubectl apply -k k8s-resources/external-dns/overlays/prod

# Base configuration
bases:
  - ../../

# Namespace override for prod
namespace: external-dns

# Environment-specific labels
commonLabels:
  environment: prod
  managed-by: kustomize
  criticality: high

# Environment-specific annotations
commonAnnotations:
  environment: production
  owner: platform-team
  compliance: required

# Patches for production environment
patches:
  # Patch to add prod-specific annotations
  - target:
      kind: ClusterRole
      name: external-dns-extended
    patch: |-
      - op: add
        path: /metadata/annotations/environment
        value: production
      - op: add
        path: /metadata/annotations/compliance
        value: required
